import{_ as k,n as c,o as D,p as n,i as e,D as x,E as b,l as g,m as _,t as a,F as P,y as V,g as C,q as U,v as K,e as L,f as l}from"./index-O14FyZ-J.js";const M={class:"max-w-[1060px] h-[739px] mx-auto p-4 bg-gray-50 overflow-hidden"},S={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",style:{height:"calc(100% - 60px)"}},B={class:"mb-4 p-3 bg-gray-50 rounded-lg"},N={class:"grid grid-cols-5 gap-3 mb-3"},j={class:"flex gap-2 justify-center"},E=["disabled"],$={key:0},q={key:1},F={class:"mb-3 flex justify-between items-center"},I={class:"text-sm text-gray-600"},R={class:"font-semibold text-blue-600"},T={class:"flex-1 overflow-auto border border-gray-200 rounded",style:{height:"calc(100% - 200px)"}},O={class:"w-full text-xs border-collapse bg-white"},z={key:0},A={key:1},G=["onDblclick"],H={class:"border border-gray-200 px-3 py-2"},J={class:"border border-gray-200 px-3 py-2"},Q={class:"border border-gray-200 px-3 py-2"},W={class:"text-blue-700 font-medium"},X={class:"border border-gray-200 px-3 py-2 text-center"},Y={class:"font-semibold"},Z={class:"border border-gray-200 px-3 py-2 text-center"},ee={class:"border border-gray-200 px-3 py-2 text-center"},te={class:"border border-gray-200 px-3 py-2 text-center"},se={class:"border border-gray-200 px-3 py-2"},oe={__name:"ProdPlanCheck",setup(re){const i=c(!1),d=c([]),y=c(!1),f=c(""),o=c({plan_id:"",plan_name:"",product_name:"",start_date:"",end_date:""}),u=async()=>{i.value=!0;try{const r=new URLSearchParams;Object.keys(o.value).forEach(p=>{o.value[p]&&r.append(p,o.value[p])});const t=await K.get(`/prodPlan/integrated/list?${r.toString()}`);d.value=t.data||[]}catch{alert("생산계획 조회에 실패했습니다."),d.value=[]}finally{i.value=!1}},v=()=>{o.value={plan_id:"",plan_name:"",product_name:"",start_date:"",end_date:""},d.value=[]},h=r=>{f.value=r.plan_id,y.value=!0},m=r=>r?new Date(r).toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit"}):"",w=r=>!r&&r!==0?"":r.toLocaleString();return D(()=>{u()}),(r,t)=>{const p=L("PlanDetailModal");return l(),n("div",M,[t[16]||(t[16]=e("div",{class:"mb-3"},[e("h1",{class:"text-2xl font-bold text-gray-800"},"생산계획 조회")],-1)),e("div",S,[e("div",B,[e("div",N,[e("div",null,[t[6]||(t[6]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"계획번호",-1)),x(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>o.value.plan_id=s),onKeypress:g(u,["enter"]),class:"w-full px-2 py-1.5 border border-gray-300 rounded text-xs focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"계획번호 검색"},null,544),[[b,o.value.plan_id]])]),e("div",null,[t[7]||(t[7]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"계획명",-1)),x(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>o.value.plan_name=s),onKeypress:g(u,["enter"]),class:"w-full px-2 py-1.5 border border-gray-300 rounded text-xs focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"계획명 검색"},null,544),[[b,o.value.plan_name]])]),e("div",null,[t[8]||(t[8]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"제품명",-1)),x(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>o.value.product_name=s),onKeypress:g(u,["enter"]),class:"w-full px-2 py-1.5 border border-gray-300 rounded text-xs focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"제품명 검색"},null,544),[[b,o.value.product_name]])]),e("div",null,[t[9]||(t[9]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"시작예정일",-1)),x(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>o.value.start_date=s),type:"date",class:"w-full px-2 py-1.5 border border-gray-300 rounded text-xs focus:outline-none focus:ring-1 focus:ring-blue-500"},null,512),[[b,o.value.start_date]])]),e("div",null,[t[10]||(t[10]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"종료예정일",-1)),x(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>o.value.end_date=s),type:"date",class:"w-full px-2 py-1.5 border border-gray-300 rounded text-xs focus:outline-none focus:ring-1 focus:ring-blue-500"},null,512),[[b,o.value.end_date]])])]),e("div",j,[e("button",{onClick:u,class:"px-4 py-2 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors font-medium",disabled:i.value},[i.value?(l(),n("span",$,"검색중...")):(l(),n("span",q,"검색"))],8,E),e("button",{onClick:v,class:"px-4 py-2 bg-gray-500 text-white rounded text-sm hover:bg-gray-600 transition-colors font-medium"}," 초기화 ")])]),e("div",F,[e("div",I,[t[11]||(t[11]=_(" 총 ")),e("span",R,a(d.value.length),1),t[12]||(t[12]=_("건 "))])]),e("div",T,[e("table",O,[t[15]||(t[15]=e("thead",{class:"bg-gray-50 sticky top-0"},[e("tr",null,[e("th",{class:"border border-gray-200 px-3 py-2 text-left font-medium text-gray-700 min-w-[120px]"},"계획번호"),e("th",{class:"border border-gray-200 px-3 py-2 text-left font-medium text-gray-700 min-w-[150px]"},"계획명"),e("th",{class:"border border-gray-200 px-3 py-2 text-left font-medium text-gray-700 min-w-[300px]"},"제품정보"),e("th",{class:"border border-gray-200 px-3 py-2 text-center font-medium text-gray-700 min-w-[80px]"},"총수량"),e("th",{class:"border border-gray-200 px-3 py-2 text-center font-medium text-gray-700 min-w-[100px]"},"작성일"),e("th",{class:"border border-gray-200 px-3 py-2 text-center font-medium text-gray-700 min-w-[100px]"},"시작예정일"),e("th",{class:"border border-gray-200 px-3 py-2 text-center font-medium text-gray-700 min-w-[100px]"},"종료예정일"),e("th",{class:"border border-gray-200 px-3 py-2 text-left font-medium text-gray-700 min-w-[80px]"},"작성자")])],-1)),e("tbody",null,[i.value?(l(),n("tr",z,t[13]||(t[13]=[e("td",{colspan:"8",class:"text-center text-gray-500 py-8"}," 검색중입니다... ",-1)]))):d.value.length===0?(l(),n("tr",A,t[14]||(t[14]=[e("td",{colspan:"8",class:"text-center text-gray-500 py-8"}," 조회된 생산계획이 없습니다. ",-1)]))):(l(!0),n(P,{key:2},V(d.value,(s,ae)=>(l(),n("tr",{key:s.plan_id,class:"hover:bg-blue-50 cursor-pointer",onDblclick:le=>h(s)},[e("td",H,a(s.plan_id),1),e("td",J,a(s.plan_name),1),e("td",Q,[e("span",W,a(s.product_summary),1)]),e("td",X,[e("span",Y,a(w(s.total_qty)),1)]),e("td",Z,a(m(s.plan_reg_dt)),1),e("td",ee,a(m(s.plan_start_dt)),1),e("td",te,a(m(s.plan_end_dt)),1),e("td",se,a(s.writer_name),1)],40,G))),128))])])])]),y.value?(l(),C(p,{key:0,"plan-id":f.value,onClose:t[5]||(t[5]=s=>y.value=!1)},null,8,["plan-id"])):U("",!0)])}}},de=k(oe,[["__scopeId","data-v-9dc0c55d"]]);export{de as default};
//# sourceMappingURL=ProdPlanCheck-CBat1ClY.js.map
