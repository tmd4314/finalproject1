import{_ as k,n as c,o as D,p as n,h as a,i as e,e as N,q as C,D as x,E as b,l as f,m as v,t as l,F as V,y as W,g as O,v as L}from"./index-DTBJ0DMA.js";const M={class:"max-w-[1060px] h-[739px] mx-auto p-4 bg-gray-50 overflow-hidden"},S={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",style:{height:"calc(100% - 60px)"}},U={class:"mb-4 p-3 bg-gray-50 rounded-lg"},B={class:"grid grid-cols-5 gap-3 mb-3"},K={class:"flex gap-2 justify-center"},j=["disabled"],E={key:0},$={key:1},q={class:"mb-3 flex justify-between items-center"},F={class:"text-sm text-gray-600"},P={class:"font-semibold text-blue-600"},R={class:"flex-1 overflow-auto border border-gray-200 rounded",style:{height:"calc(100% - 200px)"}},T={class:"w-full text-xs border-collapse bg-white"},I={key:0},z={key:1},A=["onDblclick"],G={class:"border border-gray-200 px-3 py-2 font-medium"},H={class:"border border-gray-200 px-3 py-2"},J={class:"text-blue-700 font-medium"},Q={class:"border border-gray-200 px-3 py-2 text-center"},X={class:"font-semibold"},Y={class:"border border-gray-200 px-3 py-2 text-center"},Z={class:"border border-gray-200 px-3 py-2"},ee={class:"border border-gray-200 px-3 py-2 text-center"},te={class:"border border-gray-200 px-3 py-2 text-center"},oe={__name:"WorkOrderCheck",setup(re){const i=c(!1),d=c([]),y=c(!1),g=c(""),s=c({workOrderNo:"",productName:"",writeDate:"",startDate:"",endDate:""}),p=async()=>{i.value=!0;try{const r=new URLSearchParams;Object.keys(s.value).forEach(u=>{s.value[u]&&r.append(u,s.value[u])});const t=await L.get(`/workOrder/list-page?${r.toString()}`);d.value=t.data||[]}catch{alert("작업지시 조회에 실패했습니다."),d.value=[]}finally{i.value=!1}},_=()=>{s.value={workOrderNo:"",productName:"",writeDate:"",startDate:"",endDate:""},d.value=[]},h=r=>{g.value=r.work_order_no,y.value=!0},m=r=>r?new Date(r).toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit"}):"",w=r=>!r&&r!==0?"":r.toLocaleString();return D(()=>{p()}),(r,t)=>{const u=O("WorkOrderDetailModal");return a(),n("div",M,[t[14]||(t[14]=e("div",{class:"mb-3"},[e("h1",{class:"text-2xl font-bold text-gray-800"},"작업지시 조회")],-1)),e("div",S,[e("div",U,[e("div",B,[e("div",null,[t[5]||(t[5]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"작업지시서번호",-1)),x(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>s.value.workOrderNo=o),onKeypress:f(p,["enter"]),class:"w-full px-2 py-1.5 border border-gray-300 rounded text-xs focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"작업지시서번호 검색"},null,544),[[b,s.value.workOrderNo]])]),e("div",null,[t[6]||(t[6]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"제품명",-1)),x(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>s.value.productName=o),onKeypress:f(p,["enter"]),class:"w-full px-2 py-1.5 border border-gray-300 rounded text-xs focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"제품명 검색"},null,544),[[b,s.value.productName]])]),e("div",null,[t[7]||(t[7]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"시작예정일",-1)),x(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>s.value.startDate=o),type:"date",class:"w-full px-2 py-1.5 border border-gray-300 rounded text-xs focus:outline-none focus:ring-1 focus:ring-blue-500"},null,512),[[b,s.value.startDate]])]),e("div",null,[t[8]||(t[8]=e("label",{class:"block text-xs font-medium text-gray-700 mb-1"},"종료예정일",-1)),x(e("input",{"onUpdate:modelValue":t[3]||(t[3]=o=>s.value.endDate=o),type:"date",class:"w-full px-2 py-1.5 border border-gray-300 rounded text-xs focus:outline-none focus:ring-1 focus:ring-blue-500"},null,512),[[b,s.value.endDate]])])]),e("div",K,[e("button",{onClick:p,class:"px-4 py-2 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors font-medium",disabled:i.value},[i.value?(a(),n("span",E,"검색중...")):(a(),n("span",$,"검색"))],8,j),e("button",{onClick:_,class:"px-4 py-2 bg-gray-500 text-white rounded text-sm hover:bg-gray-600 transition-colors font-medium"}," 초기화 ")])]),e("div",q,[e("div",F,[t[9]||(t[9]=v(" 총 ")),e("span",P,l(d.value.length),1),t[10]||(t[10]=v("건 "))])]),e("div",R,[e("table",T,[t[13]||(t[13]=e("thead",{class:"bg-gray-50 sticky top-0"},[e("tr",null,[e("th",{class:"border border-gray-200 px-3 py-2 text-left font-medium text-gray-700 min-w-[140px]"},"작업지시번호"),e("th",{class:"border border-gray-200 px-3 py-2 text-left font-medium text-gray-700 min-w-[300px]"},"제품정보"),e("th",{class:"border border-gray-200 px-3 py-2 text-center font-medium text-gray-700 min-w-[80px]"},"총수량"),e("th",{class:"border border-gray-200 px-3 py-2 text-center font-medium text-gray-700 min-w-[100px]"},"작성일"),e("th",{class:"border border-gray-200 px-3 py-2 text-left font-medium text-gray-700 min-w-[80px]"},"작성자"),e("th",{class:"border border-gray-200 px-3 py-2 text-center font-medium text-gray-700 min-w-[100px]"},"시작예정일"),e("th",{class:"border border-gray-200 px-3 py-2 text-center font-medium text-gray-700 min-w-[100px]"},"종료예정일")])],-1)),e("tbody",null,[i.value?(a(),n("tr",I,t[11]||(t[11]=[e("td",{colspan:"7",class:"text-center text-gray-500 py-8"}," 검색중입니다... ",-1)]))):d.value.length===0?(a(),n("tr",z,t[12]||(t[12]=[e("td",{colspan:"7",class:"text-center text-gray-500 py-8"}," 조회된 작업지시가 없습니다. ",-1)]))):(a(!0),n(V,{key:2},W(d.value,(o,se)=>(a(),n("tr",{key:o.work_order_no,class:"hover:bg-blue-50 cursor-pointer",onDblclick:ae=>h(o)},[e("td",G,l(o.work_order_no),1),e("td",H,[e("span",J,l(o.product_summary),1)]),e("td",Q,[e("span",X,l(w(o.total_qty)),1)]),e("td",Y,l(m(o.write_date)),1),e("td",Z,l(o.writer_name),1),e("td",ee,l(m(o.order_start_dt)),1),e("td",te,l(m(o.order_end_dt)),1)],40,A))),128))])])])]),y.value?(a(),N(u,{key:0,"work-order-no":g.value,onClose:t[4]||(t[4]=o=>y.value=!1)},null,8,["work-order-no"])):C("",!0)])}}},ne=k(oe,[["__scopeId","data-v-560e2b84"]]);export{ne as default};
//# sourceMappingURL=WorkOrderCheck-OvT3ep4M.js.map
